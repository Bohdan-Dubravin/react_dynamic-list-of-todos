(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var n=c(8),s=c.n(n),r=c(10),a=c(5),o=c(2),i=c(3),u=c.n(i),l=c(1);c(16),c(17);function d(e){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(u.a.mark((function e(t){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.next=5,c.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return d("https://mate.academy/students-api/todos")}function p(e){return d("".concat("https://mate.academy/students-api/users","/").concat(e))}var h=c(9),O=c.n(h),f=(c(18),c(0)),m=function(e){var t=e.todos,c=e.setSelectedUserId,n=e.currentId,s=e.onShuffle,r=Object(l.useState)(t),a=Object(o.a)(r,2),i=a[0],u=a[1],d=Object(l.useState)(""),j=Object(o.a)(d,2),b=j[0],p=j[1],h=Object(l.useState)("all"),m=Object(o.a)(h,2),x=m[0],v=m[1];return Object(l.useEffect)((function(){u(t.filter((function(e){var t=e.title.toLocaleLowerCase().includes(b.toLocaleLowerCase());switch(x){case"active":return t&&!e.completed;case"completed":return t&&e.completed;default:return t}})))}),[b,t,x]),Object(f.jsxs)("div",{className:"TodoList",children:[Object(f.jsx)("h2",{children:"Todos:"}),Object(f.jsxs)("div",{className:"TodoList__list-container",children:[Object(f.jsx)("label",{htmlFor:"search",className:"TodoList__input-lable",children:"Search todo"}),Object(f.jsx)("input",{type:"text",className:"TodoList__input",id:"search",value:b,onChange:function(e){return p(e.target.value)}}),Object(f.jsx)("button",{type:"button",onClick:s,children:"Randomize"}),Object(f.jsxs)("select",{value:x,onChange:function(e){v(e.target.value)},children:[Object(f.jsx)("option",{value:"all",children:"All"}),Object(f.jsx)("option",{value:"active",children:"Active"}),Object(f.jsx)("option",{value:"completed",children:"Completed"})]}),Object(f.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:i.map((function(e){return e.completed?Object(f.jsxs)("li",{className:"TodoList__item TodoList__item--checked",children:[Object(f.jsxs)("label",{children:[Object(f.jsx)("input",{type:"checkbox",checked:!0,readOnly:!0}),Object(f.jsx)("p",{children:e.title})]}),Object(f.jsx)("button",{className:"TodoList__user-button button",type:"button","data-cy":"userButton",onClick:function(){var t;(t=+e.userId)!==n&&c(t)},children:"User #".concat(e.userId)})]},e.id):Object(f.jsxs)("li",{className:"TodoList__item TodoList__item--unchecked",children:[Object(f.jsxs)("label",{children:[Object(f.jsx)("input",{type:"checkbox",readOnly:!0}),Object(f.jsx)("p",{children:e.title})]}),Object(f.jsx)("button",{className:O()("TodoList__user-button button",{"TodoList__user-button--selected":+e.userId===+n}),type:"button","data-cy":"userButton",onClick:function(){return c(+e.userId)},children:"User #".concat(e.userId)})]},e.id)}))})]})]})},x=(c(20),function(e){var t=e.user,c=e.clearId;return Object(f.jsx)("div",{className:"",children:t&&Object(f.jsxs)("div",{className:"CurrentUser",children:[Object(f.jsx)("h2",{className:"CurrentUser__title",children:Object(f.jsx)("span",{children:"Selected user: ".concat(t.id)})}),Object(f.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:t.name}),Object(f.jsx)("p",{className:"CurrentUser__email",children:t.email}),Object(f.jsx)("p",{className:"CurrentUser__phone",children:t.phone}),Object(f.jsx)("button",{type:"button",className:"CurrentUser__btn",onClick:function(){return c(0)},children:"Clear"})]})})}),v=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(l.useState)(0),i=Object(o.a)(s,2),d=i[0],j=i[1],h=Object(l.useState)(null),O=Object(o.a)(h,2),v=O[0],_=O[1],y=Object(l.useState)(""),N=Object(o.a)(y,2),k=N[0],C=N[1];function L(){return(L=Object(a.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:t=e.sent,C(""),n(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n([]),C("Erorr: ".concat(e.t0,". Fail to download data from sevrer"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function T(){return(T=Object(a.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(d);case 3:t=e.sent,C(""),_(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),_(null),C("Erorr: ".concat(e.t0,". Fail to download user from sevrer"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Object(l.useEffect)((function(){d&&function(){T.apply(this,arguments)}()}),[d]),Object(l.useEffect)((function(){!function(){L.apply(this,arguments)}()}),[]);var w=Object(l.useCallback)((function(){for(var e=Object(r.a)(c),t=e.length-1;t>0;t--){var s=Math.floor(Math.random()*(t+1)),a=[e[s],e[t]];e[t]=a[0],e[s]=a[1]}n(e)}),[c]);return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("div",{className:"App__sidebar",children:Object(f.jsx)(m,{todos:c,setSelectedUserId:j,currentId:d,onShuffle:w})||Object(f.jsx)("p",{children:"Loading..."})}),Object(f.jsx)("div",{className:"App__content",children:Object(f.jsxs)("div",{className:"App__content-container",children:[d?Object(f.jsx)(x,{clearId:j,user:v}):"No user selected",k&&Object(f.jsx)("p",{children:k})]})})]})};s.a.render(Object(f.jsx)(v,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.65c27ff5.chunk.js.map